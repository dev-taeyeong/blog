---
layout: post
title: '[JavaScript] Scope'
categories: JavaScript
author: taeyeong

date: 2021-11-20T21:20:26+0900
---
* content
{:toc}


---

# Scope

scope 란 '변수가 어디까지 쓰일 수 있는지'의 범위를 의미합니다.

어떤 변수는 여기저기서 쓸 수 있는 반면에 어떤 변수는 특정 함수 내에서만 쓸 수 있습니다.

<br>

# Block

block 이란 중괄호( {} )로 감싸진 것을 의미합니다.

`function, for, if` 의 내부는 모두 하나의 block 입니다. 중괄호로 감싸져 있으니까요.

block 내부에서 변수가 정의되면 그 변수는 오로지 그 block 내부에서만 사용할 수 있습니다.

block 내부에서 정의된 변수를 **local variable(지역변수)** 라고 부릅니다.

<br>

# Global(전역) Scope

스코프는 변수가 선언되고 사용할 수 있는 공간입니다.

스코프 외부(block 밖)에서는 특정 scope 의 변수에 접근할 수 없습니다.

block 밖인 global scope 에서 만든 변수를 **global variable(전역변수)** 라고 부릅니다.

전역변수는 코드 어디서든 접근 가능합니다.

<br>

# Scope 의 오염

전역변수를 쓰면 여기저기서 접근할 수 있어서 좋다고 생각할 수 있지만, 너무 남용하면 프로그램에 문제를 일으킬 수 있습니다.

전역변수는 해당 프로그램의 어디에서나 사용할 수 있는 **global namespace** 를 갖습니다.

namespace 는 변수 이름을 사용할 수 있는 범위입니다. scope 라고도 하는데 보통 변수 이름을 얘기할 때 namespace 라고 합니다.

전역변수는 프로그램이 종료될때까지 계속 살아있습니다.

반면에 지역변수는 block 이 끝나면 더이상 변수가 살아있지 않고 쓸 수 없습니다.

변수가 계속 살아있어서 값이 계속 변한다면 해당 변수를 트래킹하기도 어렵고 이 변수는 어디서 왜 필요한지 알려면 도대체 어디에서 선언을 했는지 찾아 나서야 합니다.

<br>

# 좋은 Scoping 습관

전역변수를 남용해 여기저기서 수정되면 안되기 때뭉네 변수들은 최대한 block scope 로 나눠야 합니다.

- 타이트한 scope(tightly scoping)의 변수는 코드의 품질을 올려줍니다.
- 코드가 block 으로 명확하게 구분되기 때문에 코드 가독성이 올라갑니다.
- 코드를 각각의 기능별로 block 으로 나누면 코드를 이해하기 쉬워집니다.
- 나중에 코드를 수정할 일이 있을 때, 코드를 오랜만에 보더라도 잘 나뉘어 있어서 유지보수가 쉬워집니다.
- 프로그램이 끝날때까지 변수가 살아있는 것이 아니라서 메모리가 절약됩니다.

따라서 전역변수는 되도록 쓰지 않도록 노력해야 합니다. 최대한 block 내에서 `let, const` 를 사용하여 변수를 새로 만들어 사용하는 것이 좋습니다.
